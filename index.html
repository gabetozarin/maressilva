<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maressilva Tech</title>
    <link rel="icon" type="image/svg+xml" href="assets/favicon-final.svg">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
</head>
<body>
    <canvas id="particle-canvas"></canvas>
    <main>
        <nav class="lang-switch">
            <a href="index-pt.html">pt</a> | <a href="#" class="active">en</a>
        </nav>

        <div class="hero">
            <h1>maressilva tech.<br><span>digital marketing</span></h1>
            <p class="description">we build presence for brands that care. madeira, 2025.</p>
        </div>

        <div class="contact">
            <p>T. <a href="tel:+351927809033">927 809 033</a> | <a href="tel:+351927809034">927 809 034</a></p>
                        <p>E. <a href="mailto:hello@maressilva.eu">hello@maressilva.eu</a></p>
        </div>
    </main>
    <script>
        // Magical gold dust particle system with organic wind physics
        const canvas = document.getElementById('particle-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        let mouseX = -1000, mouseY = -1000;
        let lastMouseX = -1000, lastMouseY = -1000;
        let hasMovedCursor = false;

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resize();
        window.addEventListener('resize', resize);

        class Particle {
            constructor(x, y, vx, vy) {
                this.x = x;
                this.y = y;
                this.vx = vx + (Math.random() - 0.5) * 3;
                this.vy = vy + (Math.random() - 0.5) * 3;
                this.life = 1;
                this.decay = 0.005 + Math.random() * 0.01;
                this.size = 1 + Math.random() * 2.5;
                this.hue = 45 + Math.random() * 15; // gold hue variation
                this.turbulence = Math.random() * 0.3;
                this.angle = Math.random() * Math.PI * 2;
            }

            update() {
                // Wind turbulence - organic swirling
                this.angle += this.turbulence * 0.1;
                this.vx += Math.cos(this.angle) * 0.15;
                this.vy += Math.sin(this.angle) * 0.15;
                
                // Friction/drag
                this.vx *= 0.97;
                this.vy *= 0.97;
                
                // Gentle gravity
                this.vy += 0.08;
                
                this.x += this.vx;
                this.y += this.vy;
                this.life -= this.decay;
            }

            draw() {
                if (this.life <= 0) return;
                
                const alpha = this.life * 0.4; // subtle opacity
                const glow = this.size * 2;
                
                // Glow effect
                ctx.shadowBlur = glow * 3;
                ctx.shadowColor = `hsla(${this.hue}, 85%, 70%, ${alpha * 0.6})`;
                
                // Particle core
                ctx.fillStyle = `hsla(${this.hue}, 90%, 75%, ${alpha})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.shadowBlur = 0;
            }
        }

        function createParticles(x, y, vx, vy) {
            const speed = Math.sqrt(vx * vx + vy * vy);
            const count = Math.min(Math.floor(speed * 0.8), 6); // particle emission based on speed
            
            for (let i = 0; i < count; i++) {
                particles.push(new Particle(x, y, -vx * 0.3, -vy * 0.3));
            }
        }

        document.addEventListener('mousemove', (e) => {
            lastMouseX = mouseX;
            lastMouseY = mouseY;
            mouseX = e.clientX;
            mouseY = e.clientY;
            hasMovedCursor = true;
            
            if (lastMouseX !== -1000) {
                const vx = mouseX - lastMouseX;
                const vy = mouseY - lastMouseY;
                createParticles(mouseX, mouseY, vx, vy);
            }
        });

        document.addEventListener('touchmove', (e) => {
            const touch = e.touches[0];
            lastMouseX = mouseX;
            lastMouseY = mouseY;
            mouseX = touch.clientX;
            mouseY = touch.clientY;
            hasMovedCursor = true;
            
            if (lastMouseX !== -1000) {
                const vx = mouseX - lastMouseX;
                const vy = mouseY - lastMouseY;
                createParticles(mouseX, mouseY, vx, vy);
            }
        }, { passive: true });

        function animate() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)'; // soft trail fade
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            particles = particles.filter(p => p.life > 0);
            particles.forEach(p => {
                p.update();
                p.draw();
            });
            
            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>
        </div>
    </main>
    
    <script>
        // Initialize GSAP timeline
        gsap.registerPlugin();

        // Animate elements on page load
        gsap.timeline({ defaults: { ease: "power3.out" } })
            .from(".lang-switch", { opacity: 0, y: -20, duration: 0.8 })
            .from("h1", { opacity: 0, y: 30, duration: 1 }, "-=0.5")
            .from(".description", { opacity: 0, y: 20, duration: 0.8 }, "-=0.7")
            .from(".contact", { opacity: 0, y: 20, duration: 0.8 }, "-=0.5");
    </script>
</body>
</html>
